@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap');
@import "abstracts/mixins";

$systemfont: 'Roboto Mono', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
$page-font-size: 11pt;
$paragraph-margin: 1em;

:root {
    --bg-color: rgb(255, 251, 239);
    --bg-lighter: rgb(255, 243, 206);
    --fg-color: #121212;
    --photo-border-path: url(../img/border-path.svg);
}



body {
    font-family: $systemfont;
    font-size: $page-font-size;
    background: var(--bg-color);
    color: var(--fg-color);
}

h1 {
    margin-top: 1em;
    font-size: 2rem;
}

h2 {
    font-size: 1.75rem;
}

h3 {
    font-size: 1.5rem;
}

h4 {
    font-size: 1.25rem;
}

h5 {
    font-size: 1rem;
}

main {
    // should not exceed 80 characters
    $typography-max-width: 65ch;
    width: $typography-max-width;
    margin: 2em auto;
    p {
        @include typography;
        margin: $paragraph-margin 0;
        max-width: $typography-max-width;
        word-wrap: break-word;
        text-align: justify;
    }
    h1, h2, h3, h4, h5 {
        $line-separator-margin: 1ch;
        background: var(--bg-color);
        padding-right: $line-separator-margin;
        display: inline-block;
        position: relative;
        margin: 0 0 .12em 0;
        & + p {
            margin-top: 0 !important;
        }
    }
    h1:after {
        content: "";
        font-size: $page-font-size;
        font-weight: normal;
        z-index: -1;
        position: absolute;
        margin-top: -1.5em;
        display: block;
        width: $typography-max-width;
        height: 2px;
        background: var(--fg-color);
    }

    #projects {
        // shadow on carousel
        position: relative;
        overflow: hidden;
    }

    .carousel {
        display: block;
        overflow-x: auto;
        font-size: inherit;
        width: 100%;
        max-width: 100%;
        white-space: nowrap;
        
        &::before, &::after {
            content: " ";
            position: absolute;
            height: 100%;
            width: 100px;
            pointer-events: none;
            z-index: 1;
        }
        
        &::before {
            left: 0;
            box-shadow: inset 20px 0px 10px 0px var(--bg-color);
        }
        
        &::after {
            right: 0;
            box-shadow: inset -20px 0px 10px 0px var(--bg-color);
        }
        
        & .project {
            $container-width: $typography-max-width * 0.6;
            $shadow-size: 6px;
            $animation-speed: 0.15s;
            display: inline-block;
            background: white;
            width: $container-width;
            border: 1px solid #404040;
            box-shadow: $shadow-size*-1 $shadow-size*-1 0 #121212;
            margin: {
                left: 1em;
                right: 1em;
                top: $shadow-size * 2;
                bottom: $paragraph-margin;
            };
            white-space: normal;
            transition: transform $animation-speed ease-in-out, box-shadow $animation-speed ease-in-out;

            .project-img {
                border-bottom: 1px solid black;
                background: var(--bg-lighter);
                padding-top: 1em;
                height: 250px;
                max-height: 250px;
                overflow-y: hidden;
                text-align: center;
                img {
                    width: $container-width;
                    filter: drop-shadow(1px 1px 10px #00000040);
                }
                &.no-img {
                    background-image: url(../svgs/photo-off.svg);
                    background-size: 2em;
                    background-repeat: no-repeat;
                    background-position: center;
                }
            }
            .project-desc {
                margin: 0 2em;
                padding: 1em 0;
                h2 {
                    background: none;
                }
                .learn-more {
                    $arrow-animation-speed: $animation-speed*2;
                    text-align: right;
                    
                    // Animated underline
                    span {
                        display: inline-block;
                        position: relative;
                    }
                    span::after {
                        content: " ";
                        position: absolute;
                        height: 2px;
                        width: 0px;
                        bottom: -2px;
                        left: 0;
                        background: black;
                        transition: width $arrow-animation-speed;
                    }
                }
                p {
                    height: 6em;
                    max-height: 6em;
                    overflow-y: scroll;
                }
            }
            
            &:hover {
                $hover-shadow-size: $shadow-size / 2;
                box-shadow: $hover-shadow-size*-1 $hover-shadow-size*-1 0 #121212;
                transform: translate(-$hover-shadow-size, -$hover-shadow-size);
                cursor: pointer;
                .learn-more {
                    span::after {
                        width: 100%;
                    }
                }
            }

            &:first-child {
                margin-left: 24px + $shadow-size;
            }
    
            &:last-child {
                margin-right: 20px;
            }
        }
    }

    article {
        & + article {
            margin-top: 1em;
        }
    
        & > b + p {
            margin-top: 0;
        }
    }
}

section#my-picture {
    .picture-frame {
        background: var(--photo-border-path) no-repeat;
        padding: 8px;
        width: 100px;
        height: 100px;
        img {
            width: inherit;
            height: inherit;
        }
    }

    .picture-frame, h2 {
        display: inline-block;
        vertical-align: middle;
    }

    .picture-frame + h2 {
        margin-left: 1em;
    }
}

a {
    color: var(--fg-color);
    text-decoration: none;
    &:visited {
        color: var(--fg-color);
    }
    &:hover {
        text-decoration: underline;
    }
}

@media screen and (max-width: 480px) {
    body {
        font-size: 1.75vh;
        margin: 0 2em;
    }

    p {
        max-width: 100% !important;
    }

    main {
        width: 100%;
        position: relative;
    }

    main section h1 {
        position: initial;
    }

    main section h1::after {
        width: 100%;
    }

    .carousel .project {
        max-width: calc(100% - 50px);
    }
    h2 {
        font-size: 1.5rem;
    }
}

.icon {
    display: inline-block;
    vertical-align: middle;
    width: 24px;
    height: 24px;
    background-size: cover;
    background-repeat: no-repeat;
}

.icon-github {
    @extend .icon;
    background-image: url(../svgs/brand-github.svg);
}

.icon-linkedin {
    @extend .icon;
    background-image: url(../svgs/brand-linkedin.svg);
}

.icon-telegram {
    @extend .icon;
    background-image: url(../svgs/brand-telegram.svg);
}

.icon-email {
    @extend .icon;
    background-image: url(../svgs/mail.svg);
}

.icon-arrow-right {
    @extend .icon;
    background-image: url(../svgs/arrow-right.svg);
}

footer {
    margin: 6em 0 3em 0;
    text-align: center;
    font-size: 0.75rem;
    color: #1212129F;
}